# B+ 树(B Plus Tree)
  B+ 树（B Plus Tree）是一种多路平衡查找树，是B树的改进版本。它广泛用于数据库系统和文件系统的索引结构。B+树保持了数据的有序性，并且支持高效的插入、删除和查找操作
 
1. 定义
   - 所有实际数据（key-value）都存储在叶子节点，非叶子节点只存储索引信息（key）和指向子节点的指针
   - 叶子节点通过链表相连，形成有序链表，方便区间查询和范围扫描
   - 非叶子节点仅起索引作用，帮助快速定位叶子节点
   - 所有叶子节点在同一层，树高度较低，结构平衡
   - 每个节点（非叶子和叶子）可以有多个孩子，扇出较大，减少树高

2. 时间复杂度
   假设:
   - 树的 `阶数` 为 `m`，即每个节点最多有 `m 个子节点`
   - `树高` 为 `h`
   - `N` 是树中 `元素总数`，`k` 是 `范围查询返回的元素个数`
   - 插入: O(logₘ N) (通过索引节点逐层查找，效率高)
   - 搜索: O(logₘ n) (可能引起节点分裂，重新平衡)
   - 删除: O(logₘ n) (可能引起节点合并或借键，重新平衡)  
   - 范围查询: O(logₘ N + k) (查找起点 + 顺序访问k个元素)  
   
3. 举例


4. 应用场景
   - 数据库索引
     - B+树是关系型数据库（如MySQL、PostgreSQL）默认的索引结构，支持高效的单点查询和范围查询 
   - 文件系统索引
     - 文件系统（如NTFS、ReiserFS）使用B+树来管理文件目录和元数据
   - 键值存储
     - 大型键值数据库和存储系统中，B+树常用作存储引擎的底层数据结构
   - 缓存系统和内存数据库
     - 由于高效的范围查询，B+树也用于缓存结构和内存数据库索引
     
5. B+ 树和 B 树区别
   | 特性                | B树                                   | B+树                               |
   | ------------------ | ------------------------------------- | ---------------------------------- |
   | **数据存储位置**     | 所有节点（内节点和叶子节点）都存储数据      | 只有叶子节点存储数据，内节点只存储索引    |
   | **节点内容**        | 每个节点包含键和对应的数据                | 内节点只包含键，叶子节点包含键和值        |
   | **叶子节点链表**     | 无                                    | 叶子节点通过链表连接，支持快速顺序遍历     |
   | **查询路径**        | 查找可能在内节点就找到数据                | 必须到叶子节点才找到数据                 |
   | **范围查询性能**     | 范围查询需要多次遍历不同节点，性能一般      | 通过叶子节点链表，范围查询性能非常高       |
   | **树高**            | 可能稍低                               | 树高稍高，但扇出更大                    |
   | **存储空间利用率**    | 内节点存储数据，空间稍低                 | 内节点只存索引，空间利用率更高            |
   | **适用场景**         | 通用的多路平衡查找树                     | 特别适合数据库和文件系统，支持高效范围查询  |

6.  叶子链表
    范围查询或全表扫描时，不需要回到父节点，只要顺序遍历叶子链表即可，非常高效
   - B+树的叶子节点：存储了 `所有的完整数据`（而B树的内节点也可能存储数据）
   - 叶子节点之间：会 `额外用指针串联起来（称为“链表”）`，形成一个从左到右排好序的 `有序链表`