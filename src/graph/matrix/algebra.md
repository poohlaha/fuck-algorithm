# 线性代数
  线性代数的核心，是研究 `向量(vector)` 与 `矩阵(matrix)` 之间的运算与关系，以及如何用这些工具解决线性问题，比如
  - 解线性方程组（例：2x + 3y = 5）
  - 描述几何变换（例：旋转、平移、缩放）
  - 表示空间中一个点、方向或图像

1. 向量(Vector)
   - 向量就是 `一串数字`，可以把它想象成 `空间中的一个点` 或 `从原点出发的一个箭头`
   - 1维向量: [3]
   - 2维向量: [3, 4] (可表示面上的一个点)
   - 3维向量: [3, 4, 5] (可表示空间中的一个方向)
     
   ```text
   原点 (0,0) 到点 (3,4) 之间的箭头 就是向量 [3, 4]
   ```
   - 加法
   ```text
   a = [1, 2]
   b = [3, 4]
   a + b = [1 + 3, 2 + 4] = [4, 6]
   总结: 两个箭头相连，看它最终指向哪里
   ```
   
2. 矩阵(Matrix)
   - 可以看成是 `多个向量` 按 `行` 或 `列 `排列起来的 `一个表格`
   - 表示一组数据(比如图像像素、方程系数)
   - 表示一个变换(比如图像旋转)
   ```text
   A = | 1 2 |
       | 3 4 |
   这是一个 `2 * 2` 的矩阵, 代表两个二维向量 `[1, 2]` 和 `[3, 4]`
   ```
   
3. 矩阵 × 向量
   - 将向量变换成一个新的向量, 图形学中, 表示旋转、缩放、投影等
   ```text
   矩阵:
   A = | 1 2 |
       | 3 4 |
   
   向量:
   V = | 5 |
       | 6 |
  
   A × V = 
   第一行: [1, 2] 与 [5, 6] 做点积 -> 1 * 5 + 2 * 6 = 17
   第二行: [3, 4] 与 [5, 6] 做点积 -> 3 * 5 + 4 * 6 = 39
   结果: 
   | 17 |
   | 39 |
   ```
   
4. 解线性方程组(矩阵运用最核心例子)
   ```text
    2x + y = 5     (方程 1)
    3x + 4y = 6    (方程 2)
   
    可以写成(A × X = B):
     | 2 1 |   | x |   = | 5 |
     | 3 4 | × | y |     | 6 |
    
   在解的量: X = A⁻¹ × B  
   - A 是系数矩阵
   - X 是未知数向量 [x, y]
   - B 是等号右边的常数向量 [5, 6]
   ```
   
5. 线性组合(Linear Combination)
   `线性组合 = 向量 × 常数 + 向量 × 常数 + ...`
   ```text
    v1 = [1, 0]
    v2 = [0, 1]

    a = 3, b = 2

    a * v1 + b * v2 = 3 * [1, 0] + 2 * [0, 1] = [3, 2]
   ```
   
6. 向量空间(Vector Space)
   ```text
   如果有一组向量 `v1, v2,...`，它们能通过线性组合构成空间中所有点，那这些向量就是这个空间的 `基底`
   例:
     - [1, 0] 和 [0, 1] 是二维平面的基底
     - [1, 1] 和 [1, -1] 也能构成平面，只要它们线性无关
   ```
   
7. 使用场景
   - 图像处理
     - 图像是像素矩阵，对它进行滤波、旋转、缩放
   - 机器学习/AI
     - 神经网络的每一层是矩阵 × 向量的计算
   - 3D图形引擎
     - 游戏中角色移动、相机变换都是矩阵运算
   - 地图路径规划
     - 用矩阵表示图的结构，然后做最短路径计算
   - 线性方程求解
     - 工程系统、电路建模、经济模型等都要解大量线性方程
   - 推荐系统
     - 用户-物品评分矩阵，做矩阵分解预测兴趣

8. 解一个二维线性方程组
   ```text
   2x +  y =  5  
   3x + 4y =  6
   
   1. 转成矩阵(A × X = B)
   | 2  1 |   ×  | x |  =  | 5 |
   | 3  4 |      | y |     | 6 |
   
   2. 手算解这个线性方程组(消元法)
   2.1 目标是消掉 `x` 的一个系数（从第 2 行）
   2x +  y = 5   ...①
   3x + 4y = 6   ...②
   
   2.2 我们将第①式乘以 1.5（变成 3x），然后用②减去这个结果
   1.5 × ① -> 3x + 1.5y = 7.5
   ② - (1.5 × ①):
     (3x + 4y) - (3x + 1.5y) = 6 - 7.5
     -> 2.5y = -1.5
     -> y = -1.5 ÷ 2.5 = -0.6

   3. 代回去求 `x`
   将 y = -0.6 代入①式:
   2x + y = 6
    -> 2x + (-0.6) = 5
    -> 2x = 5.6
    -> x = 2.8
   
   4. 最终
     x = 2.8, y = -0.6
   
   5. A × X = B 的解释
   A = 两个列向量：[2,3], [1,4]
   X = 对这两个向量分别乘以 2.8 和 -0.6，线性组合得到 B = [5,6]

   换句话说:
   2.8 × [2, 3]  = [5.6, 8.4]
   -0.6 × [1, 4] = [-0.6, -2.4]
   相加：           [5, 6]  ← 也就是 B！
   这就是 `线性组合` 的核心思想: `一组基向量` × `系数` → `得到目标向量`
   ```
   
9. 解一个三维线性方程组
   ```text
    x   + y   + z  = 6  
    2x  - y   + 3z = 14  
    -3x + 2y  - 2z = -10

    1. 转成矩阵(A × X = B)
    A = | 1   1   1  |
        | 2  -1   3  |
        | -3  2  -2  |
    
    X = | x |
        | y |
        | z |
   
    B = |  6  |
        | 14  |
        | -10 |
   
    A × X = B:
    | 1   1   1  |  ×  | x | = |  6  |
    | 2  -1   3  |     | y | = | 14  | 
    | -3  2  -2  |     | y | = | -10 |
   
    2. 写增广矩阵
     将系数和常数写成增广矩阵:
     [  1  1  1 |   6 ]   <- R1
     [  2 -1  3 |  14 ]   <- R2
     [ -3  2 -2 | -10 ]   <- R3
     
    3. 第一轮消元
     用 `第1行第1列` 消去 `第2行` 和 `第3行` 的 `第一列元素`
    3.1 消除 `第2行第1列`
     R2 <- R2 - 2 * R1
      -> [ 2 -1 3 | 14 ] - 2 * [ 1 1 1 | 6 ]
      -> [ 2 -1 3 | 14 ] - [ 2 2 2 | 12 ]
      -> [ 0 -3 1 | 2  ]
   
    3.2  消除 `第3行第1列`
     R3 <- R3 - (a31 / a11 = -3 / 1 = -3) * R1
      -> [ -3 2 -1 | -10 ] + 3 * [1 1 1 | 6]
      -> [ -3 2 -2 | -10 ] + [3 3 3 | 18 ]
      -> [ 0 5 1 | 8 ]
   
    第一轮消元后现在矩阵变成:
     [ 1  1 1 | 6 ]
     [ 0 -3 1 | 2 ]
     [ 0  5 1 | 8 ]
     
    4. 第二轮消元
      用 `第2行第2列` 消去 `第3行` 的 `第2列元素`
    4.1 消除 `第3行` 的 `第2列元素`
     R3 <- R3 - (a32 / a22 = 5 / -3) * R2 <-> R3 + (5 / 3) * R2
     -> [ 0  5 1 | 8 ] + (5 / 3) * [ 0 -3 1 | 2 ]
     -> [ 0  5 1 | 8 ] + [ 0, -5 5/3 | 10/3 ]
     -> [ 0, 0, 8/3 | 34/3 ] 
   
     第二轮消元后现在矩阵变成:
     [ 1  1  1  |    6 ]
     [ 0 -3  1  |    2 ]
     [ 0  0 8/3 | 34/3 ]
   
     5. 回代求解, 从底向上
     8/3z = 34/3
     -> 8z = 34
     -> z = 34 / 8
     -> 4.25
   
     -3y + 1z = 2
     -> -3y + 1 * 4.25 = 2
     -> -3y + 4.25 = 2
     -> -3y = -2.25
     -> 3y = 2.25
     -> y = 0.75
   
    1x + 1y + 1z = 6
    -> 1x + 1 * 0.75 + 1 * 4.25 = 6
    -> 1x + 0.75 + 4.25 = 6
    -> 1x + 5 = 6
    -> 1x = 1
    -> x = 1
   
    总结:
     x = 1, y = 0.75, z = 4.25
   ```
   
10. 经济问题 - 投资组合
   ```text
   某人用 A、B 两种资产组合投资
   A：年回报率 5%，风险值 3  
   B：年回报率 10%，风险值 7  

   要求投资组合满足：
    - 年回报率为 8%
    - 风险值为 5

   求：A 与 B 投资比例（x + y = 1）

   1. 建立方程式
    5x + 10y = 8 (回报率)
    3x + 7y = 5 (风险值)
    x + y = 1

   2. 转成矩阵(A × X = B), 选任意两个方程解出 x, y
   | 5 10 | ×  | x | = | 8 |
   | 1 1  |    | y | = | 1 | 
   
   3. 消元法
   | 5 10 |  ×  | x | = | 8 |
   | 5 5  |     | y | = | 5 |

   (5x + 5y) - (5x + 10y) = 5 - 8
    -> -5y = -3
    ->  y = 0.6

   4. 代回去求 `x`
   5x + 10y = 8
   -> 5x + 10 * 0.6 = 8
   -> 5x + 6 = 8
   -> 5x = 2
   -> x = 0.4

  最终:
   x = 0.4, y = 0.6
   ```

11. 高斯消元法(Gaussian Elimination)
   - 一种用于求解线性方程组的方法
   - 通过对方程组对应的矩阵进行一系列 `行变换`, 将矩阵化简成 `上三角矩阵` 形式, 然后通过 `回代` 过程求解出未知数的值
   - 目的: 把方程组的系数矩阵变成 `上三角形`，即 `主对角线以下元素全是 0`
   - 过程: 用第一行消去下面各行对应列的元素，依次类推，直到最后一行
   - 结果: 矩阵变成上三角，便于从底部开始逐步解出变量(回代)
   - 为什么用
     - 它能系统、机械化地求解任意规模的线性方程组
     - 可以判断方程组是否有唯一解、无解或无穷多解
     - 是线性代数和数值计算的基础算法
   - 举例
   ```text
   求解线性方程组:
   x  + 2y + z  = 9
   2x + 3y + 3z = 21   
   3x + 3y + 4z = 28   

   1. 写增广矩阵
   将系数和常数写成增广矩阵:
   [ 1 2 1 | 9  ]
   [ 2 3 3 | 21 ]
   [ 3 3 4 | 28 ]

   2. 第一轮消元
   用 `第1行第一列` 消去 `第2行` 和 `第3行` 的 `第一列元素`
   2.1 消除 `第2行第1列`, 主元是 `第一行的第一列`, 值为 1
   R2 <- R2 - (a21 / a11 = 2) * R1
    -> [ 2 3 3 | 21 ] - 2 * [ 1 2 1 | 9 ]
    -> [ 2 3 3 | 21 ] - [ 2 4 2 | 18 ]
    -> [ 0 -1 1 | 3 ]

  2.2 消除 `第3行第1列`
  R3 <- R3 - (a31 / a11 = 3) * R1
   -> [ 3 3 4 | 28 ] - 3 * [ 1 2 1 | 9]
   -> [ 3 3 4 | 28 ] - [ 3 6 3 | 27 ]
   -> [ 0 -3 1 | 1 ]

  第一轮消元后现在矩阵变成:
  [ 1 2 1  | 9 ]
  [ 0 -1 1 | 3 ]
  [ 0 -3 1 | 1 ]

  3. 第二轮消元
  用 `第2行第二列` 消去 `第三行` 的 `第二列元素`
  3.1 消去 `第3行第二列`, 主元是 `第二行第二列`, 值为 -1
  R3 <- R3 - (a32 / a22 = 3)  * R2
   -> [ 0 -3 1 | 1 ] - 3 * [ 0 -1 1 | 3 ]
   -> [ 0 -3 1 | 1 ] - [0 -3 3 | 9 ]
   -> [ 0 0 -2 | -8 ]

   第2轮消元后现在矩阵变成:
   [ 1 2 1  |  9 ]
   [ 0 -1 1 |  3 ]
   [ 0 0 -2 | -8 ]

   4. 回代求解
   从下往上解变量
   4.1 从第3行:
    -2z = -8 -> z = 4
   4.2 代入第二行
    -1y + 1z = 3
    -> -1y + 1 * 4 = 3
    -> -1y + 4 = 3
    -> -1y = -1
    -> y = 1
   4.3 代入第一行
    1x + 2y + 1z = 9
    -> 1x + 2 * 1 + 1 * 4 = 9
    -> 1x + 2 + 4 = 9
    -> 1x + 6 = 9
    -> 1x = 3
    -> x = 3

   最终:
    x = 3, y = 1, z = 4
   ```
   - 总结
     - 写增广矩阵
       - 把方程写成矩阵形式
       - 方便做行变换
     - 第一轮消元
       - 用 `第1行` 消去 `第2、3行` `第一列元素`
       - 让 `第一列下面全为 0`
     - 第二轮消元
       - 用 `第2行` 消去 `第3行` `第二列元素`
       - 让 `第二列下面全为 0`
     - 回代求解
       - 从 `下往上计算变量的值`
       - 解出所有未知数
     
12. 高斯消元法公式总结
    - 对于矩阵中的 `某一列（称为主列，或主元列）`，用 `该列中最上方非零的那一行（称为主行）` `去消除该列下方的其它所有行的对应元素`
    - 按 `列逐层消元`, 按 `从上到下`、`从左到右` 的方式消元，`每轮只处理一列`，把 `该列除了主元以外的所有数变为 0`
    - `每一轮只消当前列，且只向下消`
    - 对于 `第 k 行` 是 `当前主行(pivot row)`，要消掉 `第 i 行第 k 列` 的元素
      - Ri <- Ri - ( aik / akk) * Rk
      - aik: 第 i 行第k列的元素(要被消掉)
      - akk: 主元(当前用于消元的元素)
      - Ri: 要被消元的目标行
      - Rk: 当前主行(用于消元)
    - 当某一列的 `主元是 0 时`, 需要做 `行交换`
      - `不能除以 0`（数学非法）
      - 无法进行消元
      - 向下面的行 `寻找一个非 0` 的元素，并与 `当前行交换`
      - `a[k][k] == 0` 时 → 从 `k+1` 到 `n` 中找一个 `非 0 的 a[i][k]`，与 `第 k 行` 交换
      - 举例
      ```text
       [ 0 2 3 | 4 ] <- R1
       [ 0 1 1 | 2 ] <- R2
       [ 5 2 1 | 6 ] <- R3
      
       向下面的行 `寻找一个非 0` 的元素，并与 `当前行交换`
       R1 <-> R3
       [ 5 2 1 | 6 ] <- (R3 -> R1)
       [ 0 1 1 | 2 ] <- R2
       [ 0 2 3 | 4 ] <- (R1 -> R3)
      ```
    - 口诀
    ```text
       高斯消元要小心，
       主元为零换行行。
       从下往上找非零，
       交换完毕再动手。
    ```
    
12. 高斯-约旦消元法(Gauss–Jordan Elimination)
   它是高斯消元法的 `完整版` 或 `进阶版` ，目标是将 `矩阵` 变成 `单位矩阵(对角线是1，其余全是0`，这样解可以直接读出来
    - 高斯消元 ➜ 化为上三角矩阵 ➜ 再“回代”得到解
    - 高斯-约旦消元 ➜ 化为行最简阶梯形矩阵(RREF) ➜ 直接读出解
    - 每一列先做出主元, 用这个主元把上面和下面都消成 0
    - 归一化
      - 选定一列的某个 `非 0 元素` 作为 `主元`, 要 `把这个主元变成 1`
      - 如果 `当前行主元是 0`，就 `交换行`，把 `非 0 的移上来`
      - 如果 `整列都是 0`，`跳过这一列`
      - 公式: Ri <- (1 / aii)Ri
    ```text
      [ 1 0 0 ]
      [ 0 1 0 ]
      [ 0 0 1 ]
    
     其中 `左边是单位矩阵`，`右边是解向量 x, y, z`，这样可以直接读出答案
    ```
   ```text
    线性方程组:
    x + y + z = 6
    2x + 3y + z = 14
    x + 2y + 3z = 14
   
   1. 增长矩阵
     [ 1 1 1 | 6  ]
     [ 2 3 1 | 14 ]
     [ 1 2 3 | 14 ]
   
   2. 消元
      把 `第1列第1个` 元素变为 1(主元)
      用 `第1行第1个` 消除 `第2行第一个`、`第3行第1个`
   
   2.1 消除 `第2行第一个`
      R2 <- R2 - (a21 / a11 = 1) * R1
      -> [ 2 3 1 | 14 ] - 2 * [ 1 1 1 | 6 ]
      -> [ 2 3 1 | 14 ] - [ 2 2 2 | 12 ]
      -> [ 0 1 -1 | 2]
   
   2.1 `第3行第1个`
      R3 <- R3 - (a31 / a11 = 1) * R1
      -> [ 1 2 3 | 14 ] - [ 1 1 1 | 6 ]
      -> [ 0 1 2 | 8 ]

   现在矩阵:
     [ 1 1  1 | 6 ]
     [ 0 1 -1 | 2 ]
     [ 0 1  2 | 8 ]

   2.2 消元
     把 `第2行第2列` 元素 1(主元)
     用 `第2行第2列` 消去 `第1行第2列`、`第3行第2列`
     R1 <- R1 - (a12 / a22 = 1) * R2
       -> [ 1 1 1 | 6 ] - [ 0 1 -1 | 2 ]
       -> [ 1 0 2 | 4 ]

     R3 <- R3 - (a32 / a22 = 1) * R2
       -> [ 0 1 2 | 8 ] - 1 * [ 0 1 -1 | 2 ]
       -> [ 0 1 2 | 8 ] - [ 0 1 -1 | 2]
       -> [ 0 0 3 | 6 ]

   现在矩阵:
    [ 1 0  2 | 4 ]
    [ 0 1 -1 | 2 ]
    [ 0 0  3 | 6 ]

    2.3 消元
     把 `第3列第3个` 元素 3(主元)
     - 现在元素是 3, 需要变成 1, 再消元
     - 归一: R3 <- 1/3 R1
     - 第3行: [ 0 0 1 | 2 ]
     - 主元 1
     把 `第3列第3个` 消去 `第1行第3列`、`第2行第3列`
     R1 <- R1 - (a13 / a33 = 2) * R3
        -> [ 1 0 2 | 4 ] - 2 * [ 0 0 1 | 2 ]
        -> [ 1 0 2 | 4 ] - [ 0 0 2 | 4 ]
        -> [ 1 0 0 | 0 ]
     
     R2 <- R2 - (a23 / a33 = -1) * R3
        -> [ 0 1 -1 | 2 ] + [ 0 0 1 | 2]
        -> [ 0 1 0 | 4 ]
     
    现在矩阵:
     [ 1 0 0 | 0 ]
     [ 0 1 0 | 4 ]
     [ 0 0 1 | 2 ]
     
    最终: x = 0, y = 4, z = 2
   ```

13. 高斯消元和高斯约旦消元区别
    - 主元是否归一
      - 高斯约旦消元 
    - 是否清除主元上方的元素
      - 高斯消元: 只清除下方
      - 高斯约旦消元
    - 最终形式
      - 高斯消元: 上三角矩阵
      - 高斯约旦消元: 简化行最简形式(单位矩阵)
    - 是否需要回代
      - 高斯消元
      